<!DOCTYPE html>
<html>
<head>
    <title>Sample03</title>
</head>
<body style="padding: 0px; margin: 0px;">
    <img
      src="https://timkadlec.com/test/mq-svg/kiwi-mq.svg"
      height="300"
      width="300"
      style="margin: 0px; position: relative; left: 1px; top: 0px;" />
    <script>
        {
            var img = document.querySelector('img');
            var scale = 1;
            var offsetX = 0;
            var offsetY = 0;
            // img.style.transformOrigin = '50% 50%';

            img.onmousemove = function(e){
                var mousex = e.clientX - img.offsetLeft;
                var mousey = e.clientY - img.offsetTop;
                console.log(mousex, mousey);  // equal: console.log(e.clientX, e.clientY);
            };

            img.onwheel = function(e){
                console.log(e);
                // console.log(e.offsetX, e.offsetY);
                e.preventDefault();
                var mousex = e.clientX - img.offsetLeft;
                var mousey = e.clientY - img.offsetTop;
                console.log(mousex, mousey);
                img.style.transformOrigin = '0px 0px';
                var old_scale = scale;
                if(e.deltaY > 0){
                    scale *= 2;
                }
                else{
                    scale *= .5;
                }


                var $offsetX = mousex * scale - mousex * old_scale;
                var $offsetY = mousey * scale - mousey * old_scale;
                offsetX = offsetX - $offsetX;
                offsetY = offsetY - $offsetY;
                img.style.transform = 'scale(' + scale + ')' + ' translate(' + offsetX + 'px,' + offsetY + 'px)';
            }
        }
    </script>
</body>
</html>